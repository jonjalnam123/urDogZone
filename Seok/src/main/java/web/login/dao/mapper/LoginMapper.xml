<?xml version="1.0" encoding="UTF-8"?>

<!-- 마이바티스 3 Mapper DTD -->
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="web.login.dao.face.LoginDao">

	<select id="selectUserIdCheck" parameterType="String" resultType="int">
		/* LoginDao.selectUserIdCheck */
		SELECT COUNT(*)
		  FROM TB_USER_INFO
		 WHERE USER_ID = #{userId}
		    AND USER_DEL_YN = 'N'
	</select>
	
	<insert id="insertMember" parameterType="UserDTO"> 
		/* LoginDao.insertMember */
		INSERT INTO TB_USER_INFO (
	       USER_ID
		 , USER_PW
		 , USER_NM
		 , USER_POSTCODE
		 , USER_AD
		 , USER_ADD
		 , USER_PHONE
		 , USER_BIRTH
		 , USER_CAR_YN
		 , USER_VOL_EXP_YN
		 , USER_CAR_POOL_YN
		 , USER_TERMS_F
		 , USER_TERMS_S
		 , REG_ID
		 , REG_DT
		 , UPD_ID
		 , UPD_DT
		) 
		VALUES (
		   #{userId}
		 , #{userPw}
		 , #{userNm}
		 , #{userPostcode}
		 , #{userAd}
		 , #{userAdd}
		 , #{userPhone}
		 , #{userBirth}
		 , #{userCarYn}
		 , #{userVolExpYn}
		 , #{userCarPoolYn}
		 , #{userTermsF}
		 , #{userTermsS}
		 , #{regId}
		 , SYSDATE()
		 , #{updId}
		 , SYSDATE()
		)
	</insert>
	
	<select id="userLogin" parameterType="UserDTO" resultType="UserDTO">
		/* LoginDao.userLogin */
		SELECT USER_ID
				 , USER_NM
				 , USER_POSTCODE
				 , USER_AD
				 , USER_ADD
				 , USER_PHONE
				 , USER_BIRTH
				 , USER_CAR_YN
				 , USER_VOL_EXP_YN
				 , USER_CAR_POOL_YN
				 , USER_TERMS_F
				 , USER_TERMS_S
				 , REG_ID
				 , REG_DT
				 , UPD_ID
				 , UPD_DT 
		   FROM TB_USER_INFO
		  WHERE USER_ID = #{userId}
		     AND USER_PW = #{userPw}
		     AND USER_DEL_YN = 'N'
	</select>

</mapper>